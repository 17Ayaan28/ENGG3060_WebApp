<!doctype html>
<html>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <head>
        <link rel="stylesheet" href="../static/css/style.css">
        <title>Patient Progress</title>
    </head>
    <body>
        <h1 id="performance_title">Patient Progress</h1>

        <br>
        <h2 id="left_title">Left Hand Performance</h2>
        <canvas id="leftChart" style="width: 600px; max-width: 1000px;"></canvas>
        <br><br>

        <h2 id="left_title">Right Hand Performance</h2>
        <canvas id="rightChart" style="width: 600px; max-width: 1000px; position: absolute; top: 90%;"></canvas>
        <br>
        <br>
        <br>
        <br>
        <table class="tg">
          <thead>
              <tr>
              <th class="tg-amwm">Age, yr</th>
              <th class="tg-amwm">Hand</th>
              <th class="tg-amwm">Mean</th>
              <th class="tg-amwm">SD</th>
              <th class="tg-amwm">SE</th>
              <th class="tg-amwm">Low</th>
              <th class="tg-amwm">High</th>
              </tr>
          </thead>
          <tbody>
              <tr>
              <td  rowspan="2">20-24</td>
              <td >R</td>
              <td >88.0</td>
              <td >8.3</td>
              <td >1.6</td>
              <td >67</td>
              <td >103</td>
              </tr>
              <tr>
              <td >L</td>
              <td >83.4</td>
              <td >7.9</td>
              <td >1.6</td>
              <td >66</td>
              <td >99</td>
              </tr>
              <tr>
              <td  rowspan="2">25-29</td>
              <td >R</td>
              <td >86.0</td>
              <td >7.4</td>
              <td >1.4</td>
              <td >63</td>
              <td >96</td>
              </tr>
              <tr>
              <td >L</td>
              <td >80.9</td>
              <td >6.4</td>
              <td >1.2</td>
              <td >63</td>
              <td >93</td>
              </tr>
              <tr>
              <td  rowspan="2">30-34</td>
              <td >R</td>
              <td >85.2</td>
              <td >7.4</td>
              <td >1.5</td>
              <td >75</td>
              <td >101</td>
              </tr>
              <tr>
              <td >L</td>
              <td >80.2</td>
              <td >5.6</td>
              <td >1.1</td>
              <td >66</td>
              <td >92</td>
              </tr>
              <tr>
              <td  rowspan="2">35-39</td>
              <td >R</td>
              <td >84.8</td>
              <td >6.1</td>
              <td >1.2</td>
              <td >71</td>
              <td >95</td>
              </tr>
              <tr>
              <td >L</td>
              <td >83.5</td>
              <td >6.1</td>
              <td >1.2</td>
              <td >72</td>
              <td >97</td>
              </tr>
              <tr>
              <td  rowspan="2">40-44</td>
              <td >R</td>
              <td >81.1</td>
              <td >8.2</td>
              <td >1.5</td>
              <td >60</td>
              <td >97</td>
              </tr>
              <tr>
              <td >L</td>
              <td >79.7</td>
              <td >8.8</td>
              <td >1.6</td>
              <td >57</td>
              <td >97</td>
              </tr>
              <tr>
              <td  rowspan="2">45-49</td>
              <td >R</td>
              <td >82.1</td>
              <td >7.5</td>
              <td >1.5</td>
              <td >68</td>
              <td >99</td>
              </tr>
              <tr>
              <td >L</td>
              <td >78.3</td>
              <td >7.6</td>
              <td >1.5</td>
              <td >59</td>
              <td >91</td>
              </tr>
              <tr>
              <td  rowspan="2">50-54</td>
              <td >R</td>
              <td >77.7</td>
              <td >10.7</td>
              <td >2.1</td>
              <td >57</td>
              <td >98</td>
              </tr>
              <tr>
              <td >L</td>
              <td >74.3</td>
              <td >9.9</td>
              <td >2.0</td>
              <td >53</td>
              <td >93</td>
              </tr>
              <tr>
              <td  rowspan="2">55-59</td>
              <td >R</td>
              <td >74.7</td>
              <td >8.9</td>
              <td >1.8</td>
              <td >56</td>
              <td >94</td>
              </tr>
              <tr>
              <td >L</td>
              <td >73.6</td>
              <td >7.8</td>
              <td >1.6</td>
              <td >54</td>
              <td >85</td>
              </tr>
              <tr>
              <td  rowspan="2">60-64</td>
              <td >R</td>
              <td >76.1</td>
              <td >6.9</td>
              <td >1.4</td>
              <td >63</td>
              <td >95</td>
              </tr>
              <tr>
              <td >L</td>
              <td >73.6</td>
              <td >6.4</td>
              <td >1.4</td>
              <td >62</td>
              <td >86</td>
              </tr>
              <tr>
              <td  rowspan="2">65-69</td>
              <td >R</td>
              <td >72.0</td>
              <td >6.2</td>
              <td >1.2</td>
              <td >60</td>
              <td >82</td>
              </tr>
              <tr>
              <td >L</td>
              <td >71.3</td>
              <td >7.7</td>
              <td >1.4</td>
              <td >61</td>
              <td >89</td>
              </tr>
              <tr>
              <td  rowspan="2">70-74</td>
              <td >R</td>
              <td >68.6</td>
              <td >7.0</td>
              <td >1.3</td>
              <td >53</td>
              <td >80</td>
              </tr>
              <tr>
              <td >L</td>
              <td >68.3</td>
              <td >7.0</td>
              <td >1.3</td>
              <td >51</td>
              <td >81</td>
              </tr>
              <tr>
              <td  rowspan="2">75+</td>
              <td >R</td>
              <td >65.0</td>
              <td >7.1</td>
              <td >1.4</td>
              <td >52</td>
              <td >79</td>
              </tr>
              <tr>
              <td >L</td>
              <td >63.6</td>
              <td >7.4</td>
              <td >1.5</td>
              <td >51</td>
              <td >81</td>
              </tr>
              <tr>
              <td  rowspan="2">All female subjects</td>
              <td >R</td>
              <td >78.4</td>
              <td >10.4</td>
              <td >.58</td>
              <td >52</td>
              <td >103</td>
              </tr>
              <tr>
              <td >L</td>
              <td >75.8</td>
              <td >9.5</td>
              <td >.53</td>
              <td >51</td>
              <td >99</td>
              </tr>
              <tr>
              <td colspan="7" style="text-align: left;">R, right; L, left.</td>
              </tr>
          </tbody>
          </table>
        <script>
        var xValues = {{ sessionDates | tojson }};
        var yValuesLeft = {{ leftCount | tojson }};
        var yValuesRight = {{ rightCount | tojson }};
        var avg = {{ avg_level | tojson}}

        new Chart("leftChart", {
          type: "line",
          data: {
            labels: xValues,
            datasets: [{
              label: 'Total Block Count',
              fill: false,
              lineTension: 0,
              borderColor: 'rgb(75, 192, 192)',
              data: yValuesLeft,
              backgroundColor: 'rgb(75, 192, 192)'
            }
          ]
          },
          options: {
            legend: {display: false},
            scales: {
              yAxes: [{ticks: {min: 0, max:110, stepSize:5}}]
            }
          }
        });

        new Chart("rightChart", {
          type: "line",
          data: {
            labels: xValues,
            datasets: [{
              label: 'Total Block Count',
              fill: false,
              lineTension: 0,
              backgroundColor: "rgba(0,0,255,1.0)",
              borderColor: 'rgb(75, 192, 192)',
              data: yValuesRight,
              backgroundColor: 'rgb(75, 192, 192)'
            }]
          },
          options: {
            legend: {display: false},
            scales: {
              yAxes: [{ticks: {min: 0, max:110, stepSize:5}}]
            }
          }
        });

        </script>

<a href="/logout"><img id="logout_img" src="{{ url_for('static', filename='images/logout.png') }}" style="position: absolute;width: 40px;top: 2%;right: 5%;"></a>
    </body>
</html>